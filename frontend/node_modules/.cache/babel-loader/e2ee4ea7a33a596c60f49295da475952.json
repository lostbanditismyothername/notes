{"ast":null,"code":"import _objectSpread from\"/Users/ozgur/ozgur/LAB/full-stack-open/notes-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/ozgur/ozgur/LAB/full-stack-open/notes-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ozgur/ozgur/LAB/full-stack-open/notes-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ozgur/ozgur/LAB/full-stack-open/notes-fullstack/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Note from\"./components/Note\";import{useEffect,useState}from\"react\";import*as noteService from\"./services/notes\";import Notification from\"./components/Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(\"a new note..\"),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];useEffect(function(){fetchNotes();function fetchNotes(){return _fetchNotes.apply(this,arguments);}function _fetchNotes(){_fetchNotes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var notes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return noteService.getAll();case 2:notes=_context.sent;setNotes(notes);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchNotes.apply(this,arguments);}},[]);// create a new note\nvar addNote=function addNote(e){e.preventDefault();var noteObj={content:newNote,date:new Date().toISOString(),important:Math.random()<0.5,id:notes.lenght+1};noteService.create(noteObj).then(function(returnedObj){setNotes(notes.concat(returnedObj));setNewNote(\"\");});};// handle inputs\nvar handleNoteChange=function handleNoteChange(e){return setNewNote(e.target.value);};// filtered notes\nvar notesToShow=showAll?notes:notes.filter(function(note){return note.important===true;});// toggle importance of a note\nvar toggleImportanceOf=function toggleImportanceOf(id){var note=notes.find(function(note){return note.id===id;});var changedNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});noteService.update(id,changedNote).then(function(returnedObj){setNotes(notes.map(function(note){return note.id!==id?note:returnedObj;}));}).catch(function(error){setErrorMessage(\"Error while changing note: \".concat(error.message));setTimeout(function(){setErrorMessage(null);},5000);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes\"}),/*#__PURE__*/_jsx(Notification,{message:errorMessage}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?\"important\":\"all\"]})}),/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,toggleImportance:function toggleImportance(){return toggleImportanceOf(note.id);}},note.id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:handleNoteChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]})]});};export default App;","map":{"version":3,"names":["Note","useEffect","useState","noteService","Notification","App","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","fetchNotes","getAll","addNote","e","preventDefault","noteObj","content","date","Date","toISOString","important","Math","random","id","lenght","create","then","returnedObj","concat","handleNoteChange","target","value","notesToShow","filter","note","toggleImportanceOf","find","changedNote","update","map","catch","error","message","setTimeout"],"sources":["/Users/ozgur/ozgur/LAB/full-stack-open/notes-fullstack/frontend/src/App.js"],"sourcesContent":["import Note from \"./components/Note\";\nimport { useEffect, useState } from \"react\";\nimport * as noteService from \"./services/notes\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [notes, setNotes] = useState([]);\n  const [newNote, setNewNote] = useState(\"a new note..\");\n  const [showAll, setShowAll] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    fetchNotes();\n\n    async function fetchNotes() {\n      const notes = await noteService.getAll();\n      setNotes(notes);\n    }\n  }, []);\n\n  // create a new note\n  const addNote = (e) => {\n    e.preventDefault();\n\n    const noteObj = {\n      content: newNote,\n      date: new Date().toISOString(),\n      important: Math.random() < 0.5,\n      id: notes.lenght + 1,\n    };\n\n    noteService.create(noteObj).then((returnedObj) => {\n      setNotes(notes.concat(returnedObj));\n      setNewNote(\"\");\n    });\n  };\n\n  // handle inputs\n  const handleNoteChange = (e) => setNewNote(e.target.value);\n\n  // filtered notes\n  const notesToShow = showAll ? notes : notes.filter((note) => note.important === true);\n\n  // toggle importance of a note\n  const toggleImportanceOf = (id) => {\n    const note = notes.find((note) => note.id === id);\n    const changedNote = { ...note, important: !note.important };\n\n    noteService\n      .update(id, changedNote)\n      .then((returnedObj) => {\n        setNotes(notes.map((note) => (note.id !== id ? note : returnedObj)));\n      })\n      .catch((error) => {\n        setErrorMessage(`Error while changing note: ${error.message}`);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  return (\n    <div>\n      <h1>Notes</h1>\n      <Notification message={errorMessage} />\n      <div>\n        <button onClick={() => setShowAll(!showAll)}>show {showAll ? \"important\" : \"all\"}</button>\n      </div>\n      <ul>\n        {notesToShow.map((note) => (\n          <Note key={note.id} note={note} toggleImportance={() => toggleImportanceOf(note.id)} />\n        ))}\n      </ul>\n      <form onSubmit={addNote}>\n        <input value={newNote} onChange={handleNoteChange} />\n        <button type=\"submit\">save</button>\n      </form>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}